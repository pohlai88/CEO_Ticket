#!/bin/sh
# PRD Guard Enforcement ‚Äî Prevents commits with drift
# Constitutional Engine: github.com/pohlai88/PRD_GUARD

echo "üîç Running PRD Guard validation..."

# Validate sync between canonical and docs
prd-guard validate

if [ $? -ne 0 ]; then
  echo ""
  echo "‚ùå PRD SYNC VALIDATION FAILED"
  echo ""
  echo "Run: prd-guard generate"
  echo ""
  exit 1
fi

# Run compliance checks
prd-guard check

if [ $? -ne 0 ]; then
  echo ""
  echo "‚ùå PRD COMPLIANCE CHECK FAILED"
  echo ""
  exit 1
fi

echo "‚úÖ PRD Guard validation passed"
